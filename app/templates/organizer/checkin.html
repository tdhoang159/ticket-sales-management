{% extends "layout/base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-success"> Quét & Check-in vé</h2>
    <form method="post" class="mt-3">
        <div class="mb-3">
            <label for="ticket_id" class="form-label">Mã vé (TicketDetail ID / QR Code):</label>
            <input type="text" class="form-control" id="ticket_id" name="ticket_id" required>
        </div>
        <button type="submit" class="btn btn-primary">Check-in</button>
    </form>

    {% if result_message %}
        <div class="alert alert-danger mt-3">{{ result_message }}</div>
    {% endif %}

    {% if ticket_info %}
        <div class="card mt-3">
            <div class="card-body">
                <p><strong>Vé ID:</strong> {{ ticket_info.id }}</p>
                <p><strong>Loại ghế:</strong> {{ ticket_info.seat_type.name }}</p>
                <p><strong>Giá:</strong> {{ ticket_info.unit_price }} VNĐ</p>
                <p><strong>Trạng thái:</strong>
                    {% if ticket_info.checked_in %}
                        <span class="badge bg-success">Đã check-in</span>
                    {% else %}
                        <span class="badge bg-warning">Chưa check-in</span>
                    {% endif %}
                </p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
